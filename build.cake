///////////////////////////////////////////////////////////////////////////////
// ARGUMENTS
///////////////////////////////////////////////////////////////////////////////

var target = Argument("target", "Default");
var configuration = Argument("configuration", "Release");

var sln = @"ConsoleApp.SQLite/";

///////////////////////////////////////////////////////////////////////////////
// TASKS
///////////////////////////////////////////////////////////////////////////////
Task("Clean")
    .Does(() => 
{
    DotNetCoreClean(sln);
});

Task("Restore")
    .IsDependentOn("Clean")
    .Does(() => 
{
    DotNetCoreRestore(sln);
});

Task("Build")
    .IsDependentOn("Restore")
    .Does(() => 
{
     var settings = new DotNetCoreBuildSettings
     {
         Configuration = configuration,
         OutputDirectory = "./artifacts/",
     };

    DotNetCoreBuild(sln, settings);
});

Task("Default").IsDependentOn("Build");

///////////////////////////////////////////////////////////////////////////////
// RUN
///////////////////////////////////////////////////////////////////////////////
RunTarget(target);
